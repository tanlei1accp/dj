<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>树形菜单</title>
	</head>
	<style>
		.box{
			width: 180px;
			}
		a{
			font-size: 15px;
			color:aqua;
			text-decoration:none;
			}
		a:hover{
			font-size: 17px;
			color: #999999;
			 }
	</style>
	<body>
		<div class="box">
			
			<div>
				<a href="javascript:onClick=show('1')"><input type="checkbox"  id="selectall" value="一支部">一支部</a>
			</div>
			<div id="1" style="display: none;margin-left: 10px;">
				<input type="checkbox" name="select" value="一支部">默默</a><br />
				<input type="checkbox" name="select" value="一支部">默默</a><br>
				<input type="checkbox" name="select" value="一支部">默默</a><br>
				<input type="checkbox" name="select" value="一支部">默默</a><br>
				<input type="checkbox" name="select" value="一支部">默默</a><br>
			</div>
			
			<div>
				<a href="javascript:onClick=show('2')"><input type="checkbox" value="二支部">二支部</a>
			</div>
			<div id="2" style="display: none;margin-left: 10px;">
				<input type="checkbox" name="select" value="一支部">默默</a><br />
				<input type="checkbox" name="select" value="一支部">默默</a><br>
				<input type="checkbox" name="select" value="一支部">默默</a><br>
				<input type="checkbox" name="select" value="一支部">默默</a><br>
				<input type="checkbox" name="select" value="一支部">默默</a><br>
			</div>
			
			<div>
				<a href="javascript:onClick=show('3')"><input type="checkbox" value="三支部">三支部</a>
			</div>
			<div id="3" style="display: none;margin-left: 10px;">
				<input type="checkbox" value="一支部">默默</a><br />
				<input type="checkbox" value="一支部">默默</a><br>
				<input type="checkbox" value="一支部">默默</a><br>
				<input type="checkbox" value="一支部">默默</a><br>
				<input type="checkbox" value="一支部">默默</a><br>
			</div>
			
			<div>
				<a href="javascript:onClick=show('4')"><input type="checkbox" value="四支部">四支部</a>
			</div>
			<div id="4" style="display: none;margin-left: 10px;">
				<input type="checkbox" value="一支部">默默</a><br />
				<input type="checkbox" value="一支部">默默</a><br>
				<input type="checkbox" value="一支部">默默</a><br>
				<input type="checkbox" value="一支部">默默</a><br>
				<input type="checkbox" value="一支部">默默</a><br>
			</div>
			<div><input type="button" value="发布"></div>
		</div>
		<script>
			function show(d1){
				if (document.getElementById(d1).style.display == 'none') {
					document.getElementById(d1).style.display = 'block'; //触动的层如果处于隐藏状态，即显示
				} else {
					document.getElementById(d1).style.display = 'none'; //触动的层如果处于显示状态，即隐藏
				}
			}
		</script>
		<script type="text/javascript">
			window.onload = function() {

				var allbtn = document.getElementById("selectall");//这儿的selectall表示全选checkbox的id

				allbtn.onclick = function(){

					if(allbtn.checked) {
						var allchooses = document.getElementsByName("select");//这儿的select表示单选的checkbox的name
						for(var i = 0; i < allchooses.length; i++) {
							allchooses[i].checked = true;
						}
					} else {
						var allchooses = document.getElementsByName("select");//这儿的select表示单选的checkbox的name
						for(var i = 0; i < allchooses.length; i++) {
							allchooses[i].checked = false;
						}
					}
				}
				var singlebtn = document.getElementsByName("select");//这儿的select表示单选的checkbox的name
				var n ;
				for(n= 0; n < singlebtn.length; n++) {
					singlebtn[n].onclick = function() {
						if(this.checked) {
							for(var m=0;m<singlebtn.length;m++){
								if(!singlebtn[m].checked){
									break;
								}
								else if(m==singlebtn.length-1){
									allbtn.checked=true;
								}
							}
						} else {
							for(var m=0;m<singlebtn.length;m++){
								if(singlebtn[m].checked){
									break;
								}

							}
							allbtn.checked=false;
						}
					}
				}
			}
		</script>
	</body>
</html>